const char index_html[] PROGMEM = R"rawliteral(
  <!DOCTYPE HTML><html>
    <head>
     <title>CLC - Chippers Light Controller</title>
     <meta name="viewport" content="width=device-width, initial-scale=1">
     <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
     <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
     <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">
     <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
        <div">
          <h1>Device Settings - %DEVICEIP%</h1>
        </div>
        <form class="form-horizontal">
        <div class="form-group>">
            <label class="form-label" for="ssid">SSID</label>
            <input class="form-input" id="ssid" type="text" value="%SSID%"/>
        </div>
        <div class="form-group>">      
            <label class="form-label" for="pass">WiFi password</label>
            <input class="form-input" id="pass" type="password"/>
        </div>
        <div class="form-group>">
            <label class="form-label" for="devicename">Device Name</label>
            <input class="form-input" id="devicename" type="text" value="%DEVICENAME%" />
        </div>
        <div class="form-group>">
            <label class="form-switch" for="blackout"><input id="blackout" name="blackout" type="checkbox" %BLACKOUT%><i class="form-icon"></i>Master light switch</label>
        </div>
        <div class="form-group>">
            <label class="form-label" for="numleds">number of LEDs</label>
            <input class="form-input" id="numleds" type="text" value="%NUMLEDS%" />
        </div>
        <div class="form-group>">
            <label class="form-label" for="brightness">Brightness</label>
            <input class="form-input" id="brightness" type="text" value="%BRIGHTNESS%" />
        </div>
        <div class="form-group>">
            <label class="form-label" for="order">LED Colour Order</label>
            <select class="form-input" id="order">
                %LEDORDER%
            </select>
        </div>
        <div class="form-group>">
            <label class="form-label" for="pattern">Pattern</label>
            <select class="form-input" id="pattern">
                %PATTERNS%
            </select>
        </div>
        <div class="form-group>">
            <label class="form-label" for="speed">Speed</label>
            <input class="form-input" id="speed" type="text" value="%SPEED%" />
        </div>
        <div class="form-group>">
            <label class="form-label" for="delay">Delay</label>
            <input class="form-input" id="delay" type="text" value="%DELAY%" />
        </div>
        <div class="form-group>">
            <label class="form-label" for="density">Density</label>
            <input class="form-input" id="density" type="text" value="%DENSITY%" />
        </div>
        <div class="form-group>">   
            <button class="form-input" id="save">Save</button>
        </div>
        </form>
    

<script>
  var gateway = `ws://${window.location.hostname}/ws`;
  var websocket;
  window.addEventListener('load', onLoad);
  function initWebSocket() {
    console.log('Trying to open a WebSocket connection...');
    websocket = new WebSocket(gateway);
    websocket.onopen    = onOpen;
    websocket.onclose   = onClose;
    websocket.onmessage = onMessage;
  }
  function onOpen(event) {
    console.log('Connection opened');
  }
  function onClose(event) {
    console.log('Connection closed');
    setTimeout(initWebSocket, 2000);
  }
  function onMessage(event) {
    var state;

    console.log('got WS data: ' + event.data);
  }
  function onLoad(event) {
    initWebSocket();
    initEventCatchers();
  }
  function initEventCatchers() {
    document.getElementById('save').addEventListener('click', savedata);
    document.getElementById('blackout').addEventListener('change', blackoutChange);
    document.getElementById('ota').addEventListener('click', function() {window.location='/update'});
  }
  function blackoutChange() {
    var sw = document.getElementById('blackout');

    if (sw.checked) {
        websocket.send('lightson');
    }
    else {
        websocket.send('lightsoff');
    }
  }
  function savedata() {
    var res = 'save?name=' + document.getElementById('devicename').value +
                  '&ssid=' + document.getElementById('ssid').value + 
                  '&pass=' + document.getElementById('pass').value + 
                  '&numleds=' + document.getElementById('numleds').value + 
                  '&order=' + document.getElementById('order').value +
                  '&speed=' + document.getElementById('speed').value +
                  '&delay=' + document.getElementById('delay').value +
                  '&brightness=' + document.getElementById('brightness').value +
                  '&density=' + document.getElementById('density').value +
                  '&pattern=' + document.getElementById('pattern').value;

    console.log('sending: "' + res + '"');
    websocket.send(res);
  }
</script>
</body>
</html>)rawliteral";
