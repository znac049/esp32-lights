const char index_html[] PROGMEM = R"rawliteral(
<!DOCTYPE HTML><html>
<head>
 <title>CLC - Chippers Light Controller</title>
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
 <link rel="icon" href="data:,">
</head>
<body>
 <div class="columns">
  <div class="column is-half is-offset-one-quarter">
   <div class="panel">
    <p class="panel-heading">
      Device Settings - %DEVICEIP%
    </p>
   </div>
   <form>
    <div class="field">
      <label class="label">Device Name</label>
      <div class="control">
       <input id="devicename" class="input" type="text" value="%DEVICENAME%" />
      </div>
     </div>

     <div class="field">
      <label class="label">number of LEDs</label>
      <div class="control">
       <input id="numleds" class="input" type="text" value="%NUMLEDS%" />
      </div>
     </div>

     <div class="field">
      <label class="label">LED Colour Order</label>
      <div class="control">
       <div class="select">
        <select id="order" class="input" type="text" value="%NUMLEDS%">
         %LEDORDER%
        </select>
       </div>
      </div>
     </div>

     <div class="field">
      <label class="label">Pattern</label>
      <div class="control">
       <div class="select">
        <select id="pattern" class="input" type="text" value="%NUMLEDS%">
         %PATTERNS%
        </select>
       </div>
      </div>
     </div>

     <div class="control">
      <div class="control">
       <button id="save" class="button is-primary">Save</button>
      </div>
     </div>

    </form>
   </div>

   <div class="column is-quarter">
    <div class="panel">
     <p class="panel-heading">
      Debug LEDs
     </p>
    </div>

    <div class="block">
     <p class="state">state: <span id="state">%STATE%</span></p>
     <p><button id="button" class="c-button">Toggle</button></p>  
    </div>
   </div>
 
  </div>
 </div>
 
<script>
  var gateway = `ws://${window.location.hostname}/ws`;
  var websocket;
  window.addEventListener('load', onLoad);
  function initWebSocket() {
    console.log('Trying to open a WebSocket connection...');
    websocket = new WebSocket(gateway);
    websocket.onopen    = onOpen;
    websocket.onclose   = onClose;
    websocket.onmessage = onMessage; // <-- add this line
  }
  function onOpen(event) {
    console.log('Connection opened');
  }
  function onClose(event) {
    console.log('Connection closed');
    setTimeout(initWebSocket, 2000);
  }
  function onMessage(event) {
    var state;
    if (event.data == "1"){
      state = "ON";
    }
    else{
      state = "OFF";
    }
    document.getElementById('state').innerHTML = state;
  }
  function onLoad(event) {
    initWebSocket();
    initEventCatchers();
  }
  function initEventCatchers() {
    document.getElementById('button').addEventListener('click', toggle);
    document.getElementById('save').addEventListener('click', savedata);
  }
  function toggle() {
    websocket.send('toggle');
  }
  function savedata() {
    var res = 'save?name=' + document.getElementById('devicename').value +
                  '&numleds=' + document.getElementById('numleds').value + 
                  '&order=' + document.getElementById('order').value +
                  '&pattern=' + document.getElementById('pattern').value;

    websocket.send(res);
  }
</script>
</body>
</html>)rawliteral";
